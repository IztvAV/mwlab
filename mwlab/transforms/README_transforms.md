# üîÄ `mwlab.transforms`

–ú–æ–¥—É–ª—å `mwlab.transforms` —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å:

- `x`‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (`X_...`) ‚Äî —Å–ª–æ–≤–∞—Ä–∏ —Å–∫–∞–ª—è—Ä–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤;
- `s`‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (`S_...`) ‚Äî –æ–±—ä–µ–∫—Ç—ã `skrf.Network`.

–≠—Ç–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫ –¥–∞—Ç–∞—Å–µ—Ç–∞–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `x_transforms.py` ‚Äì —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—ã –Ω–∞–¥ —Å–∫–∞–ª—è—Ä–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (`dict`);
- `s_transforms.py` ‚Äì —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—ã –Ω–∞–¥ S‚Äë–º–∞—Ç—Ä–∏—Ü–∞–º–∏ (`skrf.Network`);
- `TComposite` ‚Äì –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º.

---

## üß† –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º

```python
from mwlab.transforms import X_SelectKeys, S_Crop, S_AddNoise, TComposite

# X: –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏ 'w' –∏ 'gap'
x_tf = X_SelectKeys(["w", "gap"])

# S: –æ–±—Ä–µ–∑–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω —á–∞—Å—Ç–æ—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ–º —à—É–º
s_tf = TComposite([
    S_Crop(1e9, 10e9),
    S_AddNoise(sigma_db=0.05, sigma_deg=0.5)
])
```

–≠—Ç–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ `TouchstoneDataset(...)`.

---

## üîß `X_SelectKeys`

–û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∫–ª—é—á–∏ –≤ —Å–ª–æ–≤–∞—Ä–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

```python
X_SelectKeys(["w", "gap"])(
    {"w": 1.2, "l": 0.9, "gap": 0.1}
)
# ‚Üí {"w": 1.2, "gap": 0.1}
```

---

## üîÅ `TComposite`

–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º: `x = tf(x)` –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.

```python
TComposite([tf1, tf2, tf3])(x)
```

---

## ‚öôÔ∏è –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ `S_...` —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—ã

| –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º              | –û–ø–∏—Å–∞–Ω–∏–µ                                       |
|------------------------|------------------------------------------------|
| `S_Crop`               | –û–±—Ä–µ–∑–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —á–∞—Å—Ç–æ—Ç                       |
| `S_Resample`           | –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Å–µ—Ç–∫–∏ —á–∞—Å—Ç–æ—Ç                      |
| `S_AddNoise`           | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —à—É–º–∞ (–∞–º–ø–ª–∏—Ç—É–¥–∞ + —Ñ–∞–∑–∞)            |
| `S_PhaseShiftDelay`    | –û–±—â–∏–π —Ñ–∞–∑–æ–≤—ã–π —Å–¥–≤–∏–≥ ŒîœÑ                         |
| `S_PhaseShiftAngle`    | –°–º–µ—â–µ–Ω–∏–µ —Ñ–∞–∑—ã –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–≥–æ–ª            |
| `S_Z0Shift`            | –°–¥–≤–∏–≥ –æ–ø–æ—Ä–Ω–æ–≥–æ –∏–º–ø–µ–¥–∞–Ω—Å–∞                      |
| `S_DeReciprocal`       | –ù–∞—Ä—É—à–µ–Ω–∏–µ –≤–∑–∞–∏–º–Ω–æ—Å—Ç–∏ S[i,j] ‚â† S[j,i]          |
| `S_Ripple`             | –°–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω–∞—è ripple –ø–æ —á–∞—Å—Ç–æ—Ç–µ              |
| `S_MagSlope`           | –õ–∏–Ω–µ–π–Ω—ã–π –Ω–∞–∫–ª–æ–Ω –∞–º–ø–ª–∏—Ç—É–¥—ã –ø–æ —á–∞—Å—Ç–æ—Ç–µ          |

---

## üß™ –ü—Ä–∏–º–µ—Ä –∞—É–≥–º–µ–Ω—Ç–∞—Ü–∏–∏

```python
from mwlab.transforms import TComposite, S_Crop, S_AddNoise, S_PhaseShiftDelay

s_tf = TComposite([
    S_Crop(1e9, 10e9),
    S_AddNoise(sigma_db=(0.05, 0.02), sigma_deg=0.5),
    S_PhaseShiftDelay(tau_ps=(-10, 5)),
])
```

---

## ‚ö†Ô∏è –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—é—Ç:

- —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ: `0.1`
- –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: `(Œº, œÉ)`
- callable: `lambda: ...`

–ü—Ä–∏–º–µ—Ä:

```python
S_AddNoise(sigma_db=(0.0, 0.02))  # N(0, 0.02)
```

---

## üì¶ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã

```python
from mwlab.transforms import (
    S_Crop, S_Resample, S_AddNoise, S_PhaseShiftDelay,
    S_PhaseShiftAngle, S_DeReciprocal, S_Z0Shift,
    S_Ripple, S_MagSlope, X_SelectKeys, TComposite
)
```

---

## üß™ –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã

–î–ª—è –≤—Å–µ—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã `skrf.Network`;
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —á–∞—Å—Ç–æ—Ç–Ω–æ–π —Å–µ—Ç–∫–∏ –ø–æ—Å–ª–µ `S_Crop`, `S_Resample`;
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤–æ–π—Å—Ç–≤ (`S_AddNoise`, `S_Z0Shift`, ...);
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (`TComposite`).